{{!-- QuillJS. --}}
<link rel="stylesheet" href="https://cdn.quilljs.com/1.3.6/quill.snow.css">
<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

{{!-- The products script. --}}
<script src="/assets/js/dashboard/products.js"></script>

<section class="dashboard dashboard-products">
    <div class="row">
        <aside class="col s2">
            {{> sidebar NewMail=Data.NewMail }}
        </aside>

        <div class="col s10 dashboard-grid">
            <div class="row">
                <div class="card-panel">
                    <div class="row valign-wrapper">
                        <div class="col s12">
                            <h4 class="grey-text right-align">
                                [{{ Data.Products.length }}] المنتجات
                                <i class="fa fa-prescription-bottle"></i>
                            </h4>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12">
                            <ul id="products-tabs" class="tabs">
                                <li class="tab col s6"><a href="#products-edition-tab">تحرير المنتجات</a></li>
                                <li class="tab col s6"><a href="#products-creation-tab">إضافة منتج جديد</a></li>
                            </ul>
                            <div id="products-creation-tab" class="col s12">
                                <div class="row">
                                    <div class="col s12">
                                        <form id="product-creation-form">
                                            <div class="row">
                                                <div class="input-field col s12">
                                                    <input id="product-name" type="text" name="product-name"
                                                        class="validate" data-length="80" required>
                                                    <label for="product-name">اسم المنتج</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="input-field col s12">
                                                    <input id="product-image" type="url" name="product-image"
                                                        class="validate" required>
                                                    <label for="product-image">صورة المنتج</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="input-field col s12">
                                                    <input id="product-nutrition" type="url" name="product-nutrition"
                                                        class="validate" required>
                                                    <label for="product-nutrition">حقائق غذائية</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="input-field col s12">
                                                    <label>وصف المنتج</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="input-field col s12">
                                                    <div id="desc-editor"></div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="input-field col s12">
                                                    <label>استعمال</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="input-field col s12">
                                                    <div id="usage-editor"></div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="input-field col s12">
                                                    <label>تحذيرات</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="input-field col s12">
                                                    <div id="warning-editor"></div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="input-field col s6">
                                                    <select id="product-category">
                                                        {{#each Data.Categories }}
                                                        <option value="{{ this.CategoryID }}">{{ this.CategoryName }}
                                                        </option>
                                                        {{/each}}
                                                    </select>
                                                    <label>فئة المنتج</label>
                                                </div>
                                                <div class="input-field col s6">
                                                    <select id="product-brand">
                                                        {{#each Data.Brands }}
                                                        <option value="{{ this.BrandID }}">{{ this.BrandName }}
                                                        </option>
                                                        {{/each}}
                                                    </select>
                                                    <label>العلامة التجارية للمنتج</label>
                                                </div>
                                            </div>
                                            <div class="row stock-section">
                                                <div class="input-field col s12">
                                                    <p class="grey-text lighten-3">مخزون</p>
                                                    <table class="striped">
                                                        <thead>
                                                            <tr>
                                                                <th></th>
                                                                <th class="center-align">الكمية</th>
                                                                <th class="center-align">(كلغ) الوزن</th>
                                                                <th class="center-align">(درهم) السعر</th>
                                                                <th class="center-align">النكهة</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="stock-list"></tbody>
                                                    </table>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col s6 center-align">
                                                    <input type="submit"
                                                        class="btn btn-large waves-effect waves-light grey lighten-3"
                                                        value="إضافة المنتج">
                                                </div>
                                                <div class="col s6 center-align">
                                                    <a class="btn btn-large waves-effect waves-light grey lighten-3 black-text modal-trigger"
                                                        id="product-creation-modal-opener-btn"
                                                        href="#product-creation-modal">إضافة المخزون</a>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                            <div id="products-edition-tab" class="col s12">
                                <div class="row">
                                    <div class="col s12">
                                        {{#if Data.Products}}
                                        <table class="stripped highlight">
                                            <thead>
                                                <tr>
                                                    <th>اسم المنتج</th>
                                                    <th>الكمية</th>
                                                    <th>الفئة</th>
                                                    <th>تاريخ الإضافة</th>
                                                </tr>
                                            </thead>
                                            <tbody class="product-list">
                                                {{#each Data.Products }}
                                                <tr data-product-id="{{ this.ProductID }}">
                                                    <td>{{ this.ProductName }}</td>
                                                    <td>{{ this.Quantity }}</td>
                                                    <td>{{ this.Category }}</td>
                                                    <td>{{ formateDate this.AddedDate }}</td>
                                                </tr>
                                                {{/each}}
                                            </tbody>
                                        </table>

                                        {{else}}
                                        <ul class="collection">
                                            <li class="collection-item center-align">لا توجد منتجات حاليا</li>
                                        </ul>
                                        {{/if}}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="product-creation-modal" class="modal bottom-sheet">
            <form id="product-creation-stock-form">
                <div class="modal-content">
                    <div class="row">
                        <div class="col s12">
                            <h4>إضافة مخزون</h4>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col s12">
                            <label>الكمية
                                <input id="product-creation-stock-quantity" min="0" type="number" class="validate"
                                    required>
                            </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12">
                            <label>(كلغ) الوزن
                                <input id="product-creation-stock-weight" min="0" type="number" class="validate"
                                    required>
                            </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12">
                            <label>(درهم) السعر
                                <input id="product-creation-stock-price" min="0" type="number" step="0.01"
                                    class="validate" required>
                            </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12">
                            <label>النكهة
                                <select id="product-creation-stock-flavor">
                                    {{#each Data.Flavors }}
                                    <option value="{{ this.FlavorID }}">
                                        {{ this.FlavorName }}
                                    </option>
                                    {{/each}}
                                </select>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <input class="waves-effect waves-green btn-flat" type="submit" value="إضافة المخزون">
                    <a href="#!" class="modal-close waves-effect waves-green btn-flat">أغلق</a>
                </div>
            </form>
        </div>

        <div id="product-edition-modal" class=" modal modal-fixed-footer">
            <div class="modal-content">
                <h4 class="right-align">تحديث المنتج</h4>

                <form id="product-edition-form">

                    <input type="hidden" name="product-id">
                    <div class="row">
                        <div class="input-field col s12">
                            <input id="product-name-edition" type="text" name="product-name" class="validate" data-length="80"
                                required>
                            <label for="product-name-edit">اسم المنتج</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <input id="product-image-edition" type="url" name="product-image" class="validate" required>
                            <label for="product-image-edit">صورة المنتج</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <input id="product-nutrition-edition" type="url" name="product-nutrition" class="validate" required>
                            <label for="product-nutrition-edit">حقائق غذائية</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <label>وصف المنتج</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <div id="desc-editor-edit"></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <label>استعمال</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <div id="usage-editor-edit"></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <label>تحذيرات</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <div id="warning-editor-edit"></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s6">
                            <select id="product-category-edit">
                                {{#each Data.Categories }}
                                <option value="{{ this.CategoryID }}">{{ this.CategoryName }}
                                </option>
                                {{/each}}
                            </select>
                            <label>فئة المنتج</label>
                        </div>
                        <div class="input-field col s6">
                            <select id="product-brand-edit">
                                {{#each Data.Brands }}
                                <option value="{{ this.BrandID }}">{{ this.BrandName }}
                                </option>
                                {{/each}}
                            </select>
                            <label>العلامة التجارية للمنتج</label>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <a href="#!" class="waves-effect waves-green btn-flat">تحديث</a>
                <a href="#!" class="modal-close waves-effect waves-green btn-flat">أغلق</a>
            </div>
        </div>

    </div>
</section>