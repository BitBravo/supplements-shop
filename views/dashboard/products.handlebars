{{!-- QuillJS. --}}
<link rel="stylesheet" href="https://cdn.quilljs.com/1.3.6/quill.snow.css">
<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

{{!-- The products script. --}}
<script src="/assets/js/dashboard/products.js"></script>

<section class="dashboard dashboard-products">
    <div class="row">
        <aside class="col s2">
            {{> sidebar NewMail=Data.NewMail }}
        </aside>

        <div class="col s10 dashboard-grid">
            <div class="row">
                <div class="card-panel">
                    <div class="row valign-wrapper">
                        <div class="col s12">
                            <h4 class="grey-text">
                                <i class="fa fa-prescription-bottle"></i>
                                Products [{{ Data.Products.length }}]
                            </h4>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12">
                            <ul id="products-tabs" class="tabs">
                                <li class="tab col s6"><a href="#products-edition-tab">Edit an existing brand</a></li>
                                <li class="tab col s6"><a href="#products-creation-tab">Add a new brand</a></li>
                            </ul>
                            <div id="products-creation-tab" class="col s12">
                                <div class="row">
                                    <div class="col s12">
                                        <form id="product-creation-form">
                                            <div class="row">
                                                <div class="input-field col s12">
                                                    <input id="product-name" type="text" name="product-name"
                                                        class="validate" data-length="80" required>
                                                    <label for="product-name">Product name</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="input-field col s12">
                                                    <input id="product-image" type="url" name="product-image"
                                                        class="validate" required>
                                                    <label for="product-image">Product image</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="input-field col s12">
                                                    <input id="product-nutrition" type="url" name="product-nutrition"
                                                        class="validate" required>
                                                    <label for="product-nutrition">Product nutrition</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="input-field col s12">
                                                    <label>Product description</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="input-field col s12">
                                                    <div id="desc-editor"></div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="input-field col s12">
                                                    <label>Product usage</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="input-field col s12">
                                                    <div id="usage-editor"></div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="input-field col s12">
                                                    <label>Product warning</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="input-field col s12">
                                                    <div id="warning-editor"></div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="input-field col s6">
                                                    <select>
                                                        {{#each Data.Categories }}
                                                        <option value="{{ this.CategoryID }}">{{ this.CategoryName }}
                                                        </option>
                                                        {{/each}}
                                                    </select>
                                                    <label>Product category</label>
                                                </div>
                                                <div class="input-field col s6">
                                                    <select>
                                                        {{#each Data.Brands }}
                                                        <option value="{{ this.BrandID }}">{{ this.BrandName }}
                                                        </option>
                                                        {{/each}}
                                                    </select>
                                                    <label>Product brand</label>
                                                </div>
                                            </div>
                                            <div class="row stock-section">
                                                <div class="input-field col s12">
                                                    <p class="grey-text lighten-3">Stock</p>
                                                    <table class="striped">
                                                        <thead>
                                                            <tr>
                                                                <th></th>
                                                                <th class="center-align">Quantity</th>
                                                                <th class="center-align">Weight (Kg)</th>
                                                                <th class="center-align">Flavor</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="stock-list"></tbody>
                                                    </table>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col s6 center-align">
                                                    <input type="submit"
                                                        class="btn btn-large waves-effect waves-light grey lighten-3"
                                                        value="Add product">
                                                </div>
                                                <div class="col s6 center-align">
                                                    <a class="btn btn-large waves-effect waves-light grey lighten-3 black-text modal-trigger"
                                                        id="product-creation-modal-opener-btn"
                                                        href="#product-creation-modal">Add stock</a>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                            <div id="products-edition-tab" class="col s12">
                                <div class="row">
                                    <div class="col s12">
                                        {{#if Data.Products}}
                                        <table class="stripped">
                                            <thead>
                                                <tr>
                                                    <th>Product name</th>
                                                    <th>Quantity</th>
                                                    <th>Category</th>
                                                    <th>Added date</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                {{#each Data.Products }}
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                {{/each}}
                                            </tbody>
                                        </table>

                                        {{else}}
                                        <ul class="collection">
                                            <li class="collection-item center-align">There are no existing products</li>
                                        </ul>
                                        {{/if}}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="product-creation-modal" class="modal bottom-sheet">
            <form id="product-creation-stock-form">
                <div class="modal-content">
                    <div class="row">
                        <div class="col s12">
                            <h4>Adding a stock</h4>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col s12">
                            <label>Quantity
                                <input id="product-creation-stock-quantity" min="0" type="number" class="validate"
                                    required>
                            </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12">
                            <label>Weight (Kg)
                                <input id="product-creation-stock-weight" min="0" type="number" class="validate"
                                    required>
                            </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12">
                            <label>Flavor
                                <select id="product-creation-stock-flavor">
                                    {{#each Data.Flavors }}
                                    <option value="{{ this.FlavorID }}">
                                        {{ this.FlavorName }}
                                    </option>
                                    {{/each}}
                                </select>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <input class="waves-effect waves-green btn-flat" type="submit" value="Add stock">
                    <a href="#!" class="modal-close waves-effect waves-green btn-flat">Close</a>
                </div>
            </form>
        </div>
    </div>
</section>